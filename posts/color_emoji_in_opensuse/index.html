<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Color Emoji in openSUSE | Marguerite Su: Golang/Ruby Programmer, openSUSE Member</title>
<meta name="keywords" content="">
<meta name="description" content="ä¸Šä¸€ç¯‡æ–‡ç« é‡Œæˆ‘ä»¬è®²äº† fontconfig å¸¸è§çš„å‡ ä¸ªå‘ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç»§ç»­è®²ä¸€è®² openSUSE çš„ Colored Emoji æ”¯æŒã€‚ä¹Ÿå°±æ˜¯å¦‚ä½•é…ç½® Noto Color Emoji è¿™ä¸ªå­—ä½“ç”¨äºç½‘é¡µæ˜¾ç¤ºï¼ˆç”¨äºç»ˆç«¯æ˜¾ç¤ºæ˜¯å¦ä¸€å›äº‹ï¼Œæ¶‰åŠåˆ°æ¯”å¦‚ vte çš„ teminal ä¹‹ç±»çš„ï¼Œæœ‰å‡ ä¸ªç›¸å…³çš„ bug æ¶‰åŠåˆ°æ¯”å¦‚å®½åº¦ä¹‹ç±»çš„ï¼›GTK/Qt æ˜¾ç¤ºåˆæ˜¯å¦ä¸€å›äº‹ï¼Œæ¶‰åŠåˆ° cairoï¼‰ã€‚
ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªå­—ä½“å‘¢ï¼Ÿæˆ‘ä¹Ÿå¾ˆæ— å¥ˆå•Šâ€¦Noto ç³»åˆ—æ˜¯ openSUSE çš„é»˜è®¤å­—ä½“ï¼Œå¯ä»¥è¯´é™¤äº†è‹±æ–‡ locale åˆ«çš„éƒ½æ˜¯ Noto æ¥æ˜¾ç¤ºçš„ï¼ŒNoto Color Emoji è·Ÿå…¶å®ƒ Noto å­—ä½“çš„ metrics å…¼å®¹ã€‚è¿™ä¸€ç‚¹å°±ç§’æ€äº†å…¶å®ƒ Emoji å­—ä½“ã€‚å†è€… Emoji å­—ä½“æœ¬èº«å°±ä¸å¤šï¼Œç›®å‰ä¸ºæ­¢ä¹Ÿå°± 45-generic.conf é‡Œåˆ—å‡ºçš„é‚£ä¹ˆä¸åˆ°åä¸ªï¼ŒEmojiOne Color å› ä¸ºç‰ˆæƒé—®é¢˜ä¸å†å¼€å‘äº†ï¼ŒçœŸæ­£ Linux ä¸Šèƒ½ç”¨çš„ Colored Emoji ä¹Ÿå°±å‰©ä¸‹ä¸€ä¸ª Twitter Color Emoji äº†ã€‚å‰©ä¸‹çš„è¦ä¹ˆä¸“æœ‰çš„è¦ä¹ˆæ²¡æœ‰é¢œè‰²ã€‚
æˆ‘ä»¬å…ˆæ¥å›å¿†ä¸€ä¸‹ä¹‹å‰çš„è¯´æ³•ï¼š
é™¤äº†æ¯”å¦‚ Unicode Full Emoji List è¿™ç§ä¸“é—¨ç”¨äºæµ‹è¯• emoji æ˜¾ç¤ºçš„ URLï¼Œå¤§éƒ¨åˆ†æˆ‘ä»¬å¸¸è§çš„ç½‘é¡µåœ¨ css é‡Œæ˜¯ä¸å†™ emoji å­—ä½“çš„ã€‚
æ®æˆ‘æ‘¸ç´¢çš„ç»éªŒï¼Œå­—ä½“çš„åŒ¹é…åˆ†ä¸ºä¸‰ç§åœºæ™¯
ç¬¬ä¸€ç§æ˜¯ç›´æ¥å»åŒ¹é…è¿™ä¸ªå­—ä½“ï¼Œfc-match â€œNoto Color Emojiâ€ è¿™æ ·ï¼Œä¹Ÿå°±æ˜¯ css çš„ font-family é‡Œç›´æ¥å†™äº†è¿™ä¸ªå­—ä½“ã€‚">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/color_emoji_in_opensuse/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/color_emoji_in_opensuse/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Marguerite Su: Golang/Ruby Programmer, openSUSE Member (Alt + H)">Marguerite Su: Golang/Ruby Programmer, openSUSE Member</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Color Emoji in openSUSE
    </h1>
    <div class="post-meta"><span title='2020-11-04 00:00:00 +0800 CST'>November 4, 2020</span>

</div>
  </header> 
  <div class="post-content"><p>ä¸Šä¸€ç¯‡æ–‡ç« é‡Œæˆ‘ä»¬è®²äº† fontconfig å¸¸è§çš„å‡ ä¸ªå‘ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç»§ç»­è®²ä¸€è®² openSUSE çš„ Colored Emoji æ”¯æŒã€‚ä¹Ÿå°±æ˜¯å¦‚ä½•é…ç½® Noto Color Emoji è¿™ä¸ªå­—ä½“ç”¨äºç½‘é¡µæ˜¾ç¤ºï¼ˆç”¨äºç»ˆç«¯æ˜¾ç¤ºæ˜¯å¦ä¸€å›äº‹ï¼Œæ¶‰åŠåˆ°æ¯”å¦‚ vte çš„ teminal ä¹‹ç±»çš„ï¼Œæœ‰å‡ ä¸ªç›¸å…³çš„ bug æ¶‰åŠåˆ°æ¯”å¦‚å®½åº¦ä¹‹ç±»çš„ï¼›GTK/Qt æ˜¾ç¤ºåˆæ˜¯å¦ä¸€å›äº‹ï¼Œæ¶‰åŠåˆ° cairoï¼‰ã€‚</p>
<p>ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªå­—ä½“å‘¢ï¼Ÿæˆ‘ä¹Ÿå¾ˆæ— å¥ˆå•Šâ€¦Noto ç³»åˆ—æ˜¯ openSUSE çš„é»˜è®¤å­—ä½“ï¼Œå¯ä»¥è¯´é™¤äº†è‹±æ–‡ locale åˆ«çš„éƒ½æ˜¯ Noto æ¥æ˜¾ç¤ºçš„ï¼ŒNoto Color Emoji è·Ÿå…¶å®ƒ Noto å­—ä½“çš„ metrics å…¼å®¹ã€‚è¿™ä¸€ç‚¹å°±ç§’æ€äº†å…¶å®ƒ Emoji å­—ä½“ã€‚å†è€… Emoji å­—ä½“æœ¬èº«å°±ä¸å¤šï¼Œç›®å‰ä¸ºæ­¢ä¹Ÿå°± 45-generic.conf é‡Œåˆ—å‡ºçš„é‚£ä¹ˆä¸åˆ°åä¸ªï¼ŒEmojiOne Color å› ä¸ºç‰ˆæƒé—®é¢˜ä¸å†å¼€å‘äº†ï¼ŒçœŸæ­£ Linux ä¸Šèƒ½ç”¨çš„ Colored Emoji ä¹Ÿå°±å‰©ä¸‹ä¸€ä¸ª Twitter Color Emoji äº†ã€‚å‰©ä¸‹çš„è¦ä¹ˆä¸“æœ‰çš„è¦ä¹ˆæ²¡æœ‰é¢œè‰²ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥å›å¿†ä¸€ä¸‹ä¹‹å‰çš„è¯´æ³•ï¼š</p>
<p>é™¤äº†æ¯”å¦‚ Unicode Full Emoji List è¿™ç§ä¸“é—¨ç”¨äºæµ‹è¯• emoji æ˜¾ç¤ºçš„ URLï¼Œå¤§éƒ¨åˆ†æˆ‘ä»¬å¸¸è§çš„ç½‘é¡µåœ¨ css é‡Œæ˜¯ä¸å†™ emoji å­—ä½“çš„ã€‚</p>
<p>æ®æˆ‘æ‘¸ç´¢çš„ç»éªŒï¼Œå­—ä½“çš„åŒ¹é…åˆ†ä¸ºä¸‰ç§åœºæ™¯</p>
<p>ç¬¬ä¸€ç§æ˜¯ç›´æ¥å»åŒ¹é…è¿™ä¸ªå­—ä½“ï¼Œfc-match â€œNoto Color Emojiâ€ è¿™æ ·ï¼Œä¹Ÿå°±æ˜¯ css çš„ font-family é‡Œç›´æ¥å†™äº†è¿™ä¸ªå­—ä½“ã€‚</p>
<p>è¿™éƒ¨åˆ†çš„æ”¯æŒå¾ˆç®€å•ï¼Œæ¯”å¦‚å®ƒè¦ Apple Color Emoji æˆ–è€… Segoe UI Emoji æˆ‘æ²¡æœ‰ï¼Œå¯ä»¥å†™ä¸ª aliasï¼š</p>
<div class="hightlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;alias&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;family&gt;</span>Apple Color Emoji<span style="color:#f92672">&lt;/family&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;accept&gt;&lt;family&gt;</span>Noto Color Emoji<span style="color:#f92672">&lt;/family&gt;&lt;/accept&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/alias&gt;</span>
</span></span></code></pre></div><p>ç¬¬äºŒç§æ˜¯é€šè¿‡å­—æ—åŒ¹é…ï¼Œfc-match â€œemojiâ€ è¿™æ ·ï¼Œä¼šä»è¿™ä¸ªå­—æ—çš„ pattern é‡Œæ‰¾ï¼ˆemojiï¼Œsymbolï¼Œmathï¼Œfantasy è¿™å››ä¸ªå­—æ—ä¸ sans-serifï¼Œserif å’Œ monospace è¿™ä¸‰ä¸ªä¸»è¦å…³æ³¨çš„å­—æ—è¿˜æœ‰æ‰€ä¸åŒï¼Œå®ƒä»¬çš„ donePattern åé¢è¿˜æœ‰ sans-serif å­—ä½“ï¼Œå› ä¸º 49-sansserif.confï¼‰</p>
<p>è¿™éƒ¨åˆ†çš„æ”¯æŒä¹Ÿå¾ˆç®€å•ï¼Œfontconfig å·²ç»é»˜è®¤æŠŠ emoji å­—ä½“çš„ default family å…¨è®¾ç½®æˆ emoji äº†ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ prefer æ¥å®ç°å‘è¡Œç‰ˆé»˜è®¤çš„ Colored Emoji å­—ä½“å°±è¡Œäº†ï¼Œå¦‚æœé»˜è®¤çš„æ˜¯ Noto Color Emoji é‚£ä¹ˆä»€ä¹ˆéƒ½ä¸ç”¨åšã€‚</p>
<p>ç¬¬ä¸‰ç§æ˜¯å­—ç¬¦çº§åˆ«çš„ï¼ˆglyphï¼‰ï¼Œæ¯”å¦‚ä½ æ‰€æœ‰çš„ sans-serif å­—ä½“é‡Œéƒ½æ²¡æœ‰è¿™ä¸ª unicode codepoint å¯¹åº”çš„ glyphã€‚è¿™ä¸ªæ—¶å€™ pattern match å…¶å®å·²ç»æ²¡ç”¨äº†ï¼Œå› ä¸ºå·²ç» out of range äº†ï¼Œæ‰€æœ‰çš„ sans-serif éƒ½æ²¡æœ‰ï¼Œé‚£ sans-serif çš„ pattern ä¹Ÿå°±æ²¡ç”¨äº†ã€‚å®ƒç”¨çš„æ˜¯ fc-scan åˆ°çš„ unordered listï¼Œä¹Ÿå°±æ˜¯åœ¨ä½ ç³»ç»Ÿé‡Œæ‰¾æœ‰è¿™ä¸ª glyph çš„å­—ä½“æ¥æ˜¾ç¤ºã€‚</p>
<p>ç¬¬ä¸‰ç§åœºæ™¯æ˜¯ä¸ç»å¸¸é‡åˆ°çš„ï¼Œæ˜¯ä¸€ç§æœ€ç»ˆçš„ fallbackã€‚ä½†æ˜¯åœ¨é¢å¯¹ emoji çš„æ—¶å€™ï¼Œå®ƒæ˜¯å‡ºç°æ¬¡æ•°æœ€å¤šçš„åœºæ™¯ã€‚å› ä¸ºç»å¤§éƒ¨åˆ†ç½‘é¡µä¸ä¼šå†™ç‰¹å®šçš„ emoji å­—ä½“ä¹Ÿä¸ä¼šå†™ emoji å­—æ—ã€‚</p>
<p>å…¶å®é’ˆå¯¹ç¬¬ä¸‰ç§åœºæ™¯ï¼Œfontconfig æ˜¯æä¾›äº†è§£å†³æ–¹æ¡ˆçš„ï¼Œå°±æ˜¯æŠŠå­—ä½“ prefer åˆ° pattern çš„å‰é¢ã€‚å¾ˆå¤šç½‘ä¸Šèƒ½å¤Ÿæœç´¢åˆ°çš„æ–¹æ¡ˆä¹Ÿéƒ½æ˜¯è¿™ä¹ˆåšçš„ï¼Œæ¯”å¦‚ EmojiOne Color å’Œç°åœ¨çš„ Twitter Color Emojiã€‚</p>
<p>æ¨å‡ºæˆ‘ä»¬çš„æ–¹æ¡ˆä¹‹å‰ï¼Œå…ˆæ¥è¯´è¯´ç½‘ä¸Šçš„æ–¹æ¡ˆã€‚å¤§éƒ¨åˆ†æ˜¯æŠŠ emoji pattern ç›´æ¥æ‰”åˆ° sans-serifï¼Œserif å’Œ monospace å‰é¢ã€‚äºæ˜¯å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚æœ emoji å­—ä½“ä¸­ä¸åªæ˜¯ emojiï¼Œå°±ä¼šç”¨ emoji å­—ä½“æ˜¾ç¤ºé emoji å†…å®¹ã€‚è¿™é‡Œè¯´çš„ä¸é™äºæ¯”å¦‚ emoji å­—ä½“é‡Œæœ‰ä¸ª Aï¼Œä½ æ‰€æœ‰çš„ A éƒ½è¢«æ›¿æ¢äº†ï¼Œè¿˜åŒ…æ‹¬ä½¿ç”¨ emoji å­—ä½“çš„å­—ç¬¦å®½åº¦æ¥æ˜¾ç¤º fallback å­—ä½“çš„å­—ç¬¦ã€‚æ¯”å¦‚ Noto Color Emoji ä½œä¸º emoji å­—ä½“ï¼Œå­—ç¬¦å®½åº¦ç‰¹åˆ«å¤§ï¼Œé€ æˆäº†ç©ºæ ¼çš„å®½åº¦ä¹Ÿç‰¹åˆ«å¤§ï¼Œåœ¨ chromium ä¸­ï¼Œå³ä½¿å®é™…çš„ç¬”ç”»éƒ½æ˜¯ç”¨ Libration Sans æ˜¾ç¤ºçš„ï¼Œç©ºæ ¼å®½åº¦ä¸æ˜¯ã€‚ä½ å°±çœ‹åˆ°äº†è¶…é•¿ç©ºæ ¼çš„æ•ˆæœã€‚è¿™ä¸ªä¹Ÿè®¸å¯ä»¥é€šè¿‡æŒ‡å®š emoji å­—ä½“çš„å­—å®½ä¸Šé™æ¥è§£å†³ï¼Œä½†æ˜¯ç›®å‰æ²¡æœ‰å‘ç°è°å»è®¤çœŸçš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>emoji å­—ä½“æœ¬æ¥å°±æ˜¯ä½œä¸º Fallback å­—ä½“å­˜åœ¨çš„ï¼Œç†è®ºä¸Šä¸åº”è¯¥ä½œä¸ºç¬¬ä¸€ä¸ªå­—ä½“å‡ºç°ã€‚ä¸ºäº†é¿å…ä¸Šè¿°æƒ…å†µï¼Œç°è¡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯å…ˆæŠŠ emoji æ‰”åˆ°å‰é¢ï¼Œå†æŠŠä¸€ä¸ªå®Œå…¨æ²¡æœ‰ emoji çš„å­—ä½“å†æ‰”åˆ°å‰é¢ã€‚ä½†è¿™ä¹ˆåšçš„åæœå°±æ˜¯ä½ çš„é»˜è®¤è‹±æ–‡å­—ä½“è¢«æ›¿æ¢äº†ã€‚è€Œä¸”åœ¨ CJK ä¸­é—®é¢˜æ›´åŠ ä¸¥é‡ï¼Œæˆ‘ä»¬æœ¬æ¥å°±æ˜¯é€šè¿‡æŠŠ CJK å­—ä½“æ‰”åˆ°å‰é¢ï¼Œå†æŠŠè‹±æ–‡å­—ä½“å†æ‰”åˆ°å‰é¢ï¼ˆæœ‰çš„å‘è¡Œç‰ˆçœç•¥äº†è¿™æ­¥ï¼Œå¯¼è‡´å®é™…ä¸Šæ˜¾ç¤ºè‹±æ–‡çš„ä¸æ˜¯å‘è¡Œç‰ˆé€‰å®šçš„è‹±æ–‡å­—ä½“ï¼Œè€Œæ˜¯é»˜è®¤ CJK å­—ä½“ä¸­è‡ªå¸¦çš„è‹±æ–‡éƒ¨åˆ†ï¼‰æ¥å®ç°ä¸­æ–‡æ˜¾ç¤ºçš„ï¼Œè¿™æ—¶å€™è¦å¤šæ‰”ä¸€ä¸ª emoji å­—ä½“ï¼Œè¿˜è¦å¤šæ‰”ä¸€ä¸ª emojiless çš„è‹±æ–‡å­—ä½“ã€‚æ‰”çš„é¡ºåºå¾ˆé‡è¦ï¼Œå¯¼è‡´å¥½å¤šæŒ‰æ•°å­—æ’åˆ—çš„ fontconfig conf éƒ½è¦é‡æ„ã€‚</p>
<p>æˆ‘è§£å†³è¿™ä¸ªé—®é¢˜çš„æ€è·¯ä¸æ˜¯å»ä½¿ç”¨ prefer è¿™ä¸ªä¸¥é‡ä¾èµ–é¡ºåºè€Œä¸”è„†å¼±çš„æ–¹æ¡ˆã€‚æˆ‘çš„æ€è·¯æ˜¯è®©å‡ºç°åœ¨æˆ‘é€‰çš„ Emoji å­—ä½“ä¹‹å‰çš„æ‰€æœ‰å­—ä½“éƒ½æ˜¯ emojiless çš„ã€‚è¿™æ ·å°±ä¸ä¼šç ´åå‘è¡Œç‰ˆé»˜è®¤çš„å­—ä½“ã€‚</p>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå°ä¼—çš„æ–¹æ³•ï¼Œå°±æ˜¯åœ¨ scan çš„æ—¶å€™ä»å·²æœ‰å­—ä½“ä¸­å±è”½ç‰¹å®šå­—ç¬¦é›†ï¼ˆcharsetsï¼‰ã€‚è¿™ä¸ªæ–¹æ³•åªæœ‰ä¸€ä¸ª RedHat çš„ <a href="https://bugs.freedesktop.org/show_bug.cgi?id=31969">bug#31969</a> æåˆ°è¿‡ï¼Œä½†æ˜¯ä¹Ÿæ²¡æè¿‡æ€ä¹ˆçœ‹æˆåŠŸæ²¡æˆåŠŸï¼Œæˆ‘æŠŠå®ƒæ‘¸ç´¢æˆç†Ÿäº†ï¼Œä¸‹é¢ç»™å¤§å®¶è®²ä¸€è®²ï¼š</p>
<div class="hightlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;match</span> <span style="color:#a6e22e">target=</span><span style="color:#e6db74">&#34;scan&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;test</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;family&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;string&gt;</span>Noto Color Emoji<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/test&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;edit</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;charset&#34;</span> <span style="color:#a6e22e">mode=</span><span style="color:#e6db74">&#34;assign&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;minus&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;name&gt;</span>charset<span style="color:#f92672">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;charset&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;int&gt;</span>0x20<span style="color:#f92672">&lt;/int&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;range&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&lt;int&gt;</span>0x21<span style="color:#f92672">&lt;/int&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&lt;int&gt;</span>0x22<span style="color:#f92672">&lt;/int&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;/range&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/charset&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/minus&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/edit&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/match&gt;</span>
</span></span></code></pre></div><p>ä»¥ä¸Šå°±æ˜¯æ–¹æ³•ï¼Œcharset æ”¯æŒ int å’Œ rangeã€‚è¿™é‡Œçš„ int ä¸æ˜¯ interger ç±»å‹ï¼Œå®é™…ä¸Šæ˜¯ä¸ª Hex ç±»å‹ 233ï¼Œrange çš„ä¸¤ä¸ªå­—ç¬¦æ˜¯èµ·æ­¢ï¼ˆåŒ…å«èµ·æ­¢ï¼‰ã€‚</p>
<p>ç„¶ååœ¨ FC_DEBUG=4 fc-match â€œNoto Color Emojiâ€ å°±èƒ½çœ‹åˆ°è¿™æ ·çš„ debug è¾“å‡ºï¼š</p>
<div class="hightlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Add SubSt match
</span></span><span style="display:flex;"><span>[test]
</span></span><span style="display:flex;"><span>     pattern any family Equal â€œNoto Color Emojiâ€
</span></span><span style="display:flex;"><span>[edit]
</span></span><span style="display:flex;"><span>     Edit family Assign Minus charset;
</span></span></code></pre></div><p>ä½†æ˜¯é™¤æ­¤ä¹‹å¤–ä»€ä¹ˆéƒ½æ²¡æœ‰&hellip;äºæ˜¯æˆ‘ä¸€ç›´ä»¥ä¸ºå®ƒæ²¡æœ‰ç”Ÿæ•ˆã€‚å®é™…ä¸Šéœ€è¦è¿™ä¹ˆæµ‹è¯•ï¼š</p>
<p>å…ˆåšä¸€ä¸ª local fonts.conf æŠŠ Noto Color Emoji prepend_firstï¼š</p>
<div class="hightlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;match&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;edit</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">â€œfamilyâ€</span> <span style="color:#a6e22e">mode=</span><span style="color:#e6db74">â€œprepend_firstâ€</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;string&gt;</span>Noto Color Emoji<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/edit&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/match&gt;</span>
</span></span></code></pre></div><p>ç„¶åé€šè¿‡ï¼š</p>
<div class="hightlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>FC_DEBUG<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span> pango-view -q -t <span style="color:#e6db74">&#39;ğŸ§€&#39;</span> 2&gt;&amp;<span style="color:#ae81ff">1</span> | grep -o <span style="color:#e6db74">&#39;family: &#34;[^&#34;]\+&#39;</span> | cut -c 10- | tail -n <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>æ¥çœ‹ï¼Œæ­£å¸¸è¿™ä¸ª cheese è¡¨æƒ…æ˜¯ Noto Color Emoji æ˜¾ç¤ºçš„ï¼Œä½†æ˜¯å±è”½äº†ä¹‹åå°±ä¸æ˜¯äº†ï¼Œè¯´æ˜å±è”½æˆåŠŸã€‚</p>
<p>(è¯´ç‚¹é¢˜å¤–è¯ï¼Œå¾ˆå¤šäººä¸çŸ¥é“é‚£ä¸ªè¡¨æƒ…æ€ä¹ˆæ‰“ä¸Šå»ï¼Œå¯ä»¥é€šè¿‡ fcitx çš„ unicode è¾“å…¥æ¨¡å¼å®ç°ï¼Œå°±æ˜¯åŒæ—¶æŒ‰ ctrl + alt + shift + space å››é”®ï¼Œç„¶åè¾“å…¥ 0x çš„ unicode codepointï¼Œæœ€åæŒ‰ Alt + æ•°å­—ä¸Šå±ï¼‰</p>
<p>è€Œ RedHat çš„ç»´æŠ¤è€…ä¹Ÿç»™äº†æˆ‘ä¸€ä¸ªæ›´å¥½çš„æ–¹æ¡ˆï¼š</p>
<div class="hightlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>fc-list â€œNoto Color Emojiâ€:charset<span style="color:#f92672">=</span>0x20
</span></span></code></pre></div><p>å¦‚æœå­—ä½“æœªå®‰è£…æˆ–å±è”½æˆåŠŸï¼Œå°±æ²¡æœ‰ç»“æœï¼Œä¸ç„¶ä¼šè¿”å›å­—ä½“æ–‡ä»¶å’Œå­—ä½“åç§°ã€‚</p>
<p>æœ‰äº†æ–¹æ³•å‰©ä¸‹å°±æ˜¯æ“ä½œçš„é—®é¢˜äº†ï¼Œä½†æ˜¯æ“ä½œå…¶å®æ¯”æ–¹æ³•æ›´å¤æ‚ã€‚</p>
<p>æˆ‘ä»¬è¦å…ˆç»Ÿä¸€ä¸‹æ¦‚å¿µã€‚fontconfig é‡Œç”¨çš„å«åš charsetï¼ˆå­—ç¬¦é›†ï¼‰ï¼Œè€Œæˆ‘å‰é¢è¯´è¿‡ä¸€ä¸ª unicode codepointã€‚unicode point æ˜¯ä¸€ä¸ªç ç‚¹ï¼Œæ¯”å¦‚ A å­—æ¯ 1 æ•°å­—éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç ç‚¹ï¼Œä½†æ˜¯ä¸æ˜¯æ¯ä¸ªç ç‚¹åœ¨ç°å®ä¸­éƒ½èƒ½æ‰¾åˆ°å¯¹åº”çš„å­—ç¬¦ã€‚å­—ä½“åˆ¶ä½œæ˜¯é’ˆå¯¹ unicode point æ¥çš„ã€‚unicode codepoint çš„è¡¨ç¤ºæ³•åœ¨ fontforge é‡Œå« U+20ï¼Œåœ¨ fontconfig çš„é debug è¾“å‡ºé‡Œå« 20ï¼Œè€Œåœ¨å†™é…ç½®çš„æ—¶å€™åˆè¦ç”¨ 0x20ï¼Œè¿™ä¸‰ä¸ªéƒ½æ˜¯ç­‰ä»·çš„ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„ç¨‹åºé‡Œå¿…é¡»ç”¨ä¸åŒçš„è¡¨ç¤ºæ³•ã€‚charset å°±æ˜¯ç ç‚¹çš„é›†åˆã€‚</p>
<div class="hightlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>fc-scan â€”format â€œ%<span style="color:#f92672">{</span>charset<span style="color:#f92672">}</span>â€ NotoColorEmoji.ttf
</span></span></code></pre></div><p>å°±èƒ½å¤Ÿçœ‹åˆ°æŸä¸ªå­—ä½“æœ‰å“ªäº›ç ç‚¹ã€‚</p>
<p>ä½†æ˜¯ Emoji å…¶å®æœ‰ä¸ªç‰¹æ®Šçš„åœ°æ–¹ï¼Œå¯ä»¥çœ‹ emojipedia çš„è¿™ç¯‡æ–‡ç« æ¥äº†è§£ã€‚å°±æ˜¯æœ‰çš„æ—¶å€™æ˜¾ç¤ºå‡ºæ¥çš„æ˜¯ä¸€ä¸ª emojiï¼Œä½†å®é™…ä¸ŠèƒŒåæ˜¯ä¸‰ä¸ªç”šè‡³å››ä¸ªç ç‚¹ç»„æˆçš„ sequenceã€‚æˆ‘ä»¬åœ¨æµ‹è¯• emoji å­—ä½“çš„ coverage çš„æ—¶å€™ï¼Œä¸èƒ½éšä¾¿çš„å–èˆï¼Œå› ä¸ºæŠŠ modifier codepoint ç»™å±è”½äº†ä¼šé€ æˆå¥½å¤š emoji éƒ½æ— æ³•æ˜¾ç¤ºã€‚</p>
<p>æˆ‘å…³äºæ“ä½œæ˜¯è¿™ä¹ˆæ„æ€çš„ï¼Œé¦–å…ˆæˆ‘æŠŠæƒ³è¦ä½¿ç”¨çš„ Emoji å­—ä½“çš„ charset æ‰¾å‡ºæ¥ï¼Œè½¬æˆ unicode codepointsï¼ˆå¦ä¸€ç§æ€è·¯æ˜¯æ‰¾ unicode 11 full emoji list çš„ data fileï¼Œè¿™ä¸ªæ–‡ä»¶èƒ½æ‰¾åˆ°ä½†æ˜¯æˆ‘çœ‹ä¸æ‡‚ï¼Œè€Œä¸”æœ‰é‡å¤å‡ºç°çš„ç ç‚¹è§£æèµ·æ¥è´¹åŠ²ï¼Œæˆ‘å°±ç›´æ¥å»ç½‘ä¸Šçˆ¬æ¼”ç¤ºçš„ htmlï¼Œå†æŠŠ emoji è½¬æˆ unicode pointsï¼Œè¿™ä¸ªæ€è·¯å¯ä»¥çœ‹æˆ‘çš„ analyze-noto-color-emoji.rbï¼‰ï¼Œç„¶åç®€å•å¤„ç†ä¸€ä¸‹ï¼ˆä¸»è¦æ˜¯ Noto Color Emoji è¿˜æœ‰ç©ºæ ¼æ•°å­—å’Œä¸€äº›å¸¸è§ symbolï¼Œæ¯”å¦‚æœ‰äº›åœ¨çº¿æ’­æ”¾å™¨ä¼šç”¨çš„â–¶ï¸ç¬¦å·ï¼Œè¿™ä¸ªç”¨å½©è‰²æ˜¾ç¤ºæ’­æ”¾å™¨æ ·å¼ä¼šå‡ºé—®é¢˜ï¼‰ï¼Œå†æ‹¿ç›®æ ‡å­—ä½“çš„ charset å»å–äº¤é›†ï¼Œè¿™æ ·å¾—åˆ°çš„æ˜¯ä¸¤ä¸ªå­—ä½“é‡Œéƒ½å­˜åœ¨çš„ unicode pointï¼Œè¯´æ˜è¿™ä¸ªå­—ä½“æä¾›äº† emojiï¼Œæœ€ç»ˆæˆ‘å†™å‡ºæ¥äº†test_emoji_coverage.rbã€‚</p>
<p>å‰©ä¸‹å°±æ˜¯å¤§è§„æ¨¡åº”ç”¨äº†ï¼Œæˆ‘å†™äº†ä¸€ä¸ªé’ˆå¯¹æ‰€æœ‰ /usr/share/fonts/truetype æ–‡ä»¶å¤¹ä¸‹çš„å­—ä½“æ–‡ä»¶ï¼Œæ‰«æå‡º emoji éƒ¨åˆ†å¹¶è‡ªåŠ¨ç”Ÿæˆ fontconfig blacklist æ–‡ä»¶çš„ä»£ç generate_81_emoji_blacklist_glyphs.rbã€‚ç›®å‰ fonts-config åŒ…é‡Œæ˜¯æˆ‘ç”¨æˆ‘çš„ openSUSE ç”Ÿæˆçš„ã€‚ä½†æœªæ¥ä¼šæƒ³åŠæ³•ç”¨ perl/go/c ä¹‹ç±»çš„é‡å†™ä¸‹ï¼Œç„¶ååšæˆå®‰è£…åŒ…åè‡ªåŠ¨é’ˆå¯¹ç”¨æˆ·çš„ç³»ç»Ÿç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>è‡³æ­¤ï¼Œå‡ºç°åœ¨ Noto Color Emoji å‰çš„å­—ä½“ï¼Œæˆ–è€…è¯´ç³»ç»Ÿä¸­é™¤äº† Noto Color Emoji åˆ«çš„å­—ä½“éƒ½ä¸ä¼šæœ‰ emoji äº†ã€‚ä¸‹é¢æ˜¯æµ‹è¯•ï¼š</p>
<p>æµ‹è¯• emoji å­—ä½“è¦æœ‰ä¸€ä¸ªæµ‹è¯•é¡µé¢ã€‚æˆ‘ä¸»è¦æ˜¯ç”¨ chromium æµè§ˆå™¨æ¥è®¿é—® EmojiOne Color çš„æµ‹è¯•é¡µé¢ï¼Œå› ä¸º Firefox å·²ç»æ†ç»‘äº†è‡ªå·±çš„ Twemoji Mozilla å­—ä½“ï¼Œå®ƒçš„ emoji æ˜¾ç¤ºæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>
<p>ä¸€è®¿é—®è¿˜æ˜¯ä¸è¡Œï¼Ÿ</p>
<p>åŸæ¥æ˜¯æˆ‘åœ¨ç”Ÿæˆçš„æ—¶å€™æ²¡æœ‰é’ˆå¯¹ Noto Emoji è¿™ä¸ªé»‘ç™½ emoji å­—ä½“ï¼Œè¿™æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºæˆ‘è¦ç»™å®ƒä¹Ÿåš blacklistï¼Œå®ƒçš„ charset å°±è¢«æ¸…ç©ºäº†233ï¼Œé‚£æ ·çš„æ•ˆæœç­‰äºä¸è½½å…¥ï¼Œé‚£å°±ç›´æ¥ä¸è½½å…¥å¥½å•¦ï¼š</p>
<div class="hightlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;match</span> <span style="color:#a6e22e">target=</span><span style="color:#e6db74">&#34;scan&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;selectfont&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;rejectfont&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;patlet</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;family&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;string&gt;</span>Noto Emoji<span style="color:#f92672">&lt;/string&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/patlet&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/rejectfont&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/selectfont&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/match&gt;</span>
</span></span></code></pre></div><p>æ³¨æ„ä¸èƒ½ç”¨ prefer workï¼Œå› ä¸ºä¹‹å‰è¯´è¿‡ç¬¬ä¸‰ç§åŒ¹é…ç±»å‹å®é™…ä¸Šç”¨ä½œåŒ¹é…çš„å­—ä½“ä¸æ˜¯ pattern é‡Œé¢çš„å­—ä½“ï¼Œä½ åœ¨æŠŠå®ƒåŠ å…¥ pattern å‰æ ¹æœ¬æ”¹å˜ä¸äº†å®ƒçš„é¡ºåºã€‚æœªæ¥ä¼šæŠŠè¿™éƒ¨åˆ†ä»£ç ä¹Ÿæ•´åˆåˆ°ç”Ÿæˆå™¨é‡Œé¢å»ï¼Œè¿™æ ·æ¯”å¦‚ä½ æŒ‡å®šä¸€ä¸ª Colored Emoji å­—ä½“ï¼Œä¼šè‡ªåŠ¨å±è”½æ‰€æœ‰å…¶å®ƒ emoji å­—ä½“å’Œé emoji å­—ä½“ä¸­çš„ emoji éƒ¨åˆ†ã€‚</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><script src="https://utteranc.es/client.js"
        repo="marguerite/marguerite.github.io"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Marguerite Su: Golang/Ruby Programmer, openSUSE Member</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
